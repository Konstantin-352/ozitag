{"version":3,"sources":["main.ts"],"names":["action","Action","MOBILE","ev","event","window","preventDefault","returnValue","addListen","el","eve","hander","addEventListener","attachEvent","removeListen","handler","removeEventListener","detachEvent","parentClass","t","cl","repeater","p","parentNode","document","classList","contains","classReplacement","selector","classname","e","Array","from","querySelectorAll","filter","item","forEach","remove","add","key","data","name","act","push","type","handle","trigger","KEY","concat","that","getAttribute","hand","main","innerWidth","querySelector","body","toggle","parent","block","addHideClass","dataset","level","scroll","header","top","scrollTop","getBoundingClientRect","offsetHeight","left","behavior","wrap","levelBlocks","i"],"mappings":"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","file":"main.js","sourcesContent":["interface IHTMLElementOfCustom extends HTMLElement {\r\n    __swiper?: any;\r\n    __grid?: any;\r\n}\r\n\r\n(function () {\r\n    let action = new Action();\r\n    const MOBILE = 1250;\r\n\r\n    function ev(event) {\r\n        event = event || window.event;\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        } else {\r\n            event.returnValue = false;\r\n        }\r\n    }\r\n\r\n    function addListen(el, eve, hander) {\r\n        if (el.addEventListener) {\r\n            el.addEventListener(eve, hander, false);\r\n        } else if (el.attachEvent) {\r\n            el.attachEvent('on' + eve, hander);\r\n        } else {\r\n            el['on' + eve] = hander;\r\n        }\r\n    }\r\n\r\n    function removeListen(el, eve, handler) {\r\n        if (el.removeEventListener) {\r\n            el.removeEventListener(eve, handler);\r\n        } else if (el.detachEvent) {\r\n            el.detachEvent(eve, handler);\r\n        } else {\r\n            delete el['on' + eve];\r\n        }\r\n    }\r\n\r\n    function parentClass(t, cl, repeater = -1) {\r\n        if (t && (repeater === -1 || repeater !== 0)) {\r\n            const p = t.parentNode;\r\n            if (p && p !== document) {\r\n                if (p.classList.contains(cl)) {\r\n                    return p;\r\n                } else {\r\n                    return parentClass(p, cl, (repeater < -1 ? -1 : (repeater - 1)));\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function classReplacement(selector, classname, e = null) {\r\n        Array.from(document.querySelectorAll(selector))\r\n            .filter(item => item.classList.contains(classname))\r\n            .forEach(item => {\r\n                item.classList.remove(classname);\r\n            });\r\n        if (e) {\r\n            e.classList.add(classname);\r\n        }\r\n    }\r\n\r\n    function Action(key = 'data-action') {\r\n        this.data = {};\r\n\r\n        this.add = function (name, act, handler) {\r\n            if (!this.data[name]) {\r\n                this.data[name] = [];\r\n            }\r\n\r\n            this.data[name].push({\r\n                type: act,\r\n                handle: handler\r\n            });\r\n        };\r\n\r\n        this.trigger = function (name = null) {\r\n            let KEY = '['.concat(key).concat((name ? '='.concat(name) : '')).concat(']'),\r\n                that = this;\r\n            document.querySelectorAll(KEY).forEach(function (item) {\r\n                if (item.getAttribute(key) && that.data[item.getAttribute(key)]) {\r\n                    let hand = that.data[item.getAttribute(key)];\r\n                    hand.forEach(function (main) {\r\n                        removeListen(item, main.type, main.handle);\r\n                        addListen(item, main.type, main.handle);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n    }\r\n\r\n    action.add('header-nav_item-hover', 'mouseenter', function (e) {\r\n        if (innerWidth >= MOBILE) {\r\n            ev(e);\r\n            this.classList.add('__hover');\r\n            this.querySelector('.header-nav_wrap') && document.body.classList.add('__shadow-show');\r\n        }\r\n    });\r\n\r\n    action.add('header-nav_item-hover', 'mouseleave', function (e) {\r\n        if (innerWidth >= MOBILE) {\r\n            ev(e);\r\n            this.classList.remove('__hover');\r\n            this.querySelector('.header-nav_wrap') && document.body.classList.remove('__shadow-show');\r\n        }\r\n    });\r\n\r\n    action.add('menu-open', 'click', function (e) {\r\n        ev(e);\r\n        document.body.classList.toggle('__menu-open');\r\n        document.body.classList.toggle('__shadow-show');\r\n    });\r\n\r\n    action.add('show-submenu', 'click', function (e) {\r\n        ev(e);\r\n        let parent = parentClass(this, 'js-parent', 2);\r\n\r\n        if (parent) {\r\n            let block = parent.querySelector('[data-level]');\r\n\r\n            if (block) {\r\n                addHideClass(`[data-level='${block.dataset.level}']`, document, block);\r\n                block.classList.toggle('__hide');\r\n                block.classList.contains('__hide') && addHideClass('[data-level]', block);\r\n            }\r\n\r\n            let scroll = document.querySelector('.header-nav');\r\n            let header = document.querySelector('header');\r\n\r\n            scroll && header && scroll.scroll({\r\n                top: scroll.scrollTop + parent.getBoundingClientRect().top - header.offsetHeight,\r\n                left: 0,\r\n                behavior: 'smooth'\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    /**\r\n     *\r\n     * @param cl\r\n     * @param wrap\r\n     * @param block\r\n     */\r\n    function addHideClass(cl: string, wrap, block = null) {\r\n        let levelBlocks = wrap.querySelectorAll(cl);\r\n\r\n        if (levelBlocks) {\r\n            levelBlocks.forEach(i => {\r\n\r\n                if (i !== block) {\r\n                    i.classList.add('__hide');\r\n                    addHideClass('[data-level]', i);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    addListen(document, 'DOMContentLoaded', function () {\r\n        action.trigger();\r\n\r\n    });\r\n\r\n})();\r\n"]}